<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tracking - Student Organizer</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background-color: #f4f7f6; }
        .sidebar { position: fixed; top: 0; left: -250px; width: 250px; height: 100vh; background: #2c3e50; color: white; transition: left 0.3s ease; z-index: 1000; }
        .sidebar.active { left: 0; }
        .sidebar-header { padding: 20px; border-bottom: 1px solid #34495e; }
        .sidebar-nav { list-style: none; padding: 20px 0; }
        .sidebar-nav a { display: block; padding: 15px 20px; color: #ecf0f1; text-decoration: none; }
        .sidebar-nav a:hover, .sidebar-nav a.active { background-color: #34495e; }
        .sidebar-footer { margin-top: auto; padding: 20px; }
        .logout-btn { width: 100%; padding: 12px; background: #e74c3c; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .main-content { margin-left: 0; padding: 20px; transition: margin-left 0.3s ease; }
        .main-content.shifted { margin-left: 250px; }
        .header { display: flex; align-items: center; margin-bottom: 30px; background: white; padding: 15px 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .menu-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; margin-right: 20px; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; opacity: 0; visibility: hidden; }
        .overlay.active { opacity: 1; visibility: visible; }
        .btn { padding: 12px 24px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 500; }
        .btn:hover { background: #2980b9; }
        .btn-sm { padding: 8px 16px; font-size: 12px; }

        /* AI Tracking specific styles */
        .ai-status {
            background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 30px; text-align: center;
        }
        .ai-status.active { border: 3px solid #2ecc71; }
        .ai-status.inactive { border: 3px solid #e74c3c; }
        .ai-indicator {
            display: inline-block; width: 20px; height: 20px; border-radius: 50%; margin-right: 10px;
        }
        .ai-indicator.active { background: #2ecc71; animation: pulse 2s infinite; }
        .ai-indicator.inactive { background: #e74c3c; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .ai-status-title { font-size: 1.5rem; color: #2c3e50; margin-bottom: 10px; }
        .ai-status-description { color: #7f8c8d; margin-bottom: 20px; }
        .ai-features {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;
        }
        .ai-feature {
            background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .feature-icon { font-size: 2.5rem; margin-bottom: 15px; }
        .feature-title { font-size: 1.2rem; color: #2c3e50; margin-bottom: 10px; font-weight: 600; }
        .feature-description { color: #7f8c8d; line-height: 1.5; margin-bottom: 15px; }
        .feature-status { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .status-badge {
            padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500;
        }
        .status-badge.active { background: rgba(46, 204, 113, 0.1); color: #2ecc71; }
        .status-badge.learning { background: rgba(52, 152, 219, 0.1); color: #3498db; }
        .status-badge.pending { background: rgba(241, 196, 15, 0.1); color: #f1c40f; }

        .ai-recommendations {
            background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .recommendations-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .recommendations-title { color: #2c3e50; font-size: 1.3rem; font-weight: 600; }
        .recommendation-item {
            border-left: 4px solid #3498db; padding: 20px; background: #f8f9fa; margin-bottom: 15px; border-radius: 0 8px 8px 0;
        }
        .recommendation-item.urgent { border-left-color: #e74c3c; }
        .recommendation-item.high-priority { border-left-color: #f39c12; }
        .recommendation-item.suggestion { border-left-color: #2ecc71; }
        .recommendation-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .recommendation-title { font-weight: 600; color: #2c3e50; }
        .recommendation-priority {
            padding: 2px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: 500;
        }
        .priority-urgent { background: rgba(231, 76, 60, 0.1); color: #e74c3c; }
        .priority-high { background: rgba(243, 156, 18, 0.1); color: #f39c12; }
        .priority-normal { background: rgba(52, 152, 219, 0.1); color: #3498db; }
        .recommendation-description { color: #7f8c8d; line-height: 1.5; }
        .recommendation-action { margin-top: 10px; }

        .chat-interface {
            background: white; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-top: 30px; overflow: hidden;
        }
        .chat-header { background: #3498db; color: white; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .chat-title { font-size: 1.2rem; font-weight: 600; }
        .chat-messages { max-height: 400px; overflow-y: auto; padding: 20px; background: #f8f9fa; }
        .message { margin-bottom: 15px; display: flex; align-items: flex-start; gap: 10px; }
        .message.user { flex-direction: row-reverse; }
        .message-avatar { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; }
        .message-avatar.ai { background: #3498db; color: white; }
        .message-avatar.user { background: #2c3e50; color: white; }
        .message-bubble { max-width: 70%; padding: 12px 16px; border-radius: 18px; line-height: 1.4; }
        .message.user .message-bubble { background: #3498db; color: white; }
        .message.ai .message-bubble { background: white; border: 1px solid #ecf0f1; color: #2c3e50; }
        .chat-input { padding: 20px; background: white; border-top: 1px solid #ecf0f1; display: flex; gap: 10px; }
        .chat-input input {
            flex: 1; padding: 12px 16px; border: 2px solid #ecf0f1; border-radius: 25px; outline: none;
        }
        .chat-input input:focus { border-color: #3498db; }
        .chat-send { padding: 12px 20px; background: #3498db; color: white; border: none; border-radius: 25px; cursor: pointer; }
        .chat-send:hover { background: #2980b9; }

        .notification {
            position: fixed; top: 20px; right: 20px; padding: 15px 20px; background: #2ecc71; color: white; border-radius: 5px; z-index: 10000;
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        @media (max-width: 768px) { .main-content.shifted { margin-left: 0; } .ai-features { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>üìö Student Hub</h2>
        </div>
        
        <nav>
            <ul class="sidebar-nav">
                <li><a href="dashboard.html">üè† Dashboard</a></li>
                <li><a href="profile.html">üë§ Profile</a></li>
                <li><a href="goals.html">üéØ Goals</a></li>
                <li><a href="calendar.html">üìÖ Calendar</a></li>
                <li><a href="history.html">üìú History</a></li>
                <li><a href="analysis.html">üìä Analysis</a></li>
                <li><a href="ai-tracking.html" class="active">ü§ñ AI Tracking</a></li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="main-content" id="main-content">
        <div class="header">
            <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
            <h1>AI Learning Assistant</h1>
        </div>

        <!-- AI Status -->
        <div class="ai-status active" id="ai-status">
            <div>
                <span class="ai-indicator active"></span>
                <span class="ai-status-title">AI Assistant is Active</span>
            </div>
            <p class="ai-status-description">Your personal AI is learning from your patterns and providing personalized insights.</p>
            <button class="btn" onclick="toggleAI()">Pause AI Tracking</button>
        </div>

        <!-- AI Features -->
        <div class="ai-features">
            <div class="ai-feature">
                <div class="feature-icon">üß†</div>
                <h3 class="feature-title">Pattern Recognition</h3>
                <p class="feature-description">Analyzes your study habits, sleep patterns, and productivity to identify what works best for you.</p>
                <div class="feature-status">
                    <span class="status-badge active">Active</span>
                    <span>Learning for 5 days</span>
                </div>
                <button class="btn btn-sm" onclick="showPatternAnalysis()">View Analysis</button>
            </div>

            <div class="ai-feature">
                <div class="feature-icon">üìä</div>
                <h3 class="feature-title">Smart Scheduling</h3>
                <p class="feature-description">Automatically suggests optimal study times and break intervals based on your energy levels.</p>
                <div class="feature-status">
                    <span class="status-badge learning">Learning</span>
                    <span>Collecting data</span>
                </div>
                <button class="btn btn-sm" onclick="showSchedule()">Get Suggestions</button>
            </div>

            <div class="ai-feature">
                <div class="feature-icon">üéØ</div>
                <h3 class="feature-title">Goal Optimization</h3>
                <p class="feature-description">Continuously adjusts your goals based on your progress and provides realistic timelines.</p>
                <div class="feature-status">
                    <span class="status-badge active">Active</span>
                    <span>3 goals optimized</span>
                </div>
                <button class="btn btn-sm" onclick="showGoalOptimization()">View Goals</button>
            </div>

            <div class="ai-feature">
                <div class="feature-icon">‚ö†Ô∏è</div>
                <h3 class="feature-title">Wellness Alerts</h3>
                <p class="feature-description">Detects signs of burnout, poor sleep, or stress and suggests healthy interventions.</p>
                <div class="feature-status">
                    <span class="status-badge active">Active</span>
                    <span>Monitoring 24/7</span>
                </div>
                <button class="btn btn-sm" onclick="showWellnessCheck()">Wellness Status</button>
            </div>
        </div>

        <!-- AI Recommendations -->
        <div class="ai-recommendations">
            <div class="recommendations-header">
                <h2 class="recommendations-title">Today's AI Recommendations</h2>
                <button class="btn btn-sm" onclick="refreshRecommendations()">Refresh</button>
            </div>
            <div id="recommendations-list">
                <div class="recommendation-item urgent">
                    <div class="recommendation-header">
                        <span class="recommendation-title">üö® Study Break Needed</span>
                        <span class="recommendation-priority priority-urgent">Urgent</span>
                    </div>
                    <div class="recommendation-description">
                        You've been studying for 2.5 hours continuously. Take a 15-minute break to maintain focus and prevent fatigue.
                    </div>
                    <div class="recommendation-action">
                        <button class="btn btn-sm" onclick="startBreak()">Start Break</button>
                    </div>
                </div>

                <div class="recommendation-item high-priority">
                    <div class="recommendation-header">
                        <span class="recommendation-title">üìö Optimize Study Time</span>
                        <span class="recommendation-priority priority-high">High</span>
                    </div>
                    <div class="recommendation-description">
                        Your most productive study hours are between 9-11 AM. Consider scheduling difficult subjects during this time.
                    </div>
                    <div class="recommendation-action">
                        <button class="btn btn-sm" onclick="applySuggestion()">Apply</button>
                    </div>
                </div>

                <div class="recommendation-item suggestion">
                    <div class="recommendation-header">
                        <span class="recommendation-title">üåô Sleep Schedule</span>
                        <span class="recommendation-priority priority-normal">Suggestion</span>
                    </div>
                    <div class="recommendation-description">
                        Try to maintain consistent sleep and wake times. Your energy levels are highest when you sleep 7-8 hours.
                    </div>
                    <div class="recommendation-action">
                        <button class="btn btn-sm" onclick="setSleepGoal()">Set Goal</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Chat Interface -->
        <div class="chat-interface">
            <div class="chat-header">
                <div class="chat-title">Chat with Your AI Assistant</div>
                <span class="ai-indicator active"></span>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message ai">
                    <div class="message-avatar ai">AI</div>
                    <div class="message-bubble">
                        Hello! I'm your personal AI learning assistant. I can help you optimize your study habits, suggest break times, and answer questions about your progress. How can I assist you today?
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Ask me anything about your study habits..." onkeypress="handleChatKeypress(event)">
                <button class="chat-send" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        let aiActive = true;

        document.addEventListener('DOMContentLoaded', function() {
            startAITracking();
        });

        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const content = document.getElementById('main-content');
            
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            content.classList.toggle('shifted');
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.clear();
                window.location.href = 'index.html';
            }
        }

        function toggleAI() {
            aiActive = !aiActive;
            const statusDiv = document.getElementById('ai-status');
            const button = statusDiv.querySelector('.btn');
            
            if (aiActive) {
                statusDiv.className = 'ai-status active';
                button.textContent = 'Pause AI Tracking';
                showNotification('AI tracking resumed', 'success');
            } else {
                statusDiv.className = 'ai-status inactive';
                button.textContent = 'Resume AI Tracking';
                showNotification('AI tracking paused', 'info');
            }
        }

        function startAITracking() {
            // Simulate AI learning from user data
            setTimeout(() => {
                updateAIStatus();
            }, 2000);
        }

        function updateAIStatus() {
            // Analyze user data to simulate AI learning
            const analytics = analyzeUserPatterns();
            
            if (analytics.studyHours > 0) {
                showNotification('AI has analyzed your study patterns!', 'success');
            }
        }

        function analyzeUserPatterns() {
            let totalStudy = 0;
            let totalSleep = 0;
            let studyDays = 0;
            let sleepDays = 0;
            
            // Analyze last 7 days
            for (let i = 0; i < 7; i++) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                const studyData = localStorage.getItem(`tracker_${dateStr}_study`);
                const sleepData = localStorage.getItem(`tracker_${dateStr}_sleep`);
                
                if (studyData) {
                    totalStudy += parseFloat(studyData);
                    studyDays++;
                }
                if (sleepData) {
                    totalSleep += parseFloat(sleepData);
                    sleepDays++;
                }
            }
            
            return {
                studyHours: studyDays > 0 ? totalStudy / studyDays : 0,
                sleepHours: sleepDays > 0 ? totalSleep / sleepDays : 0
            };
        }

        function showPatternAnalysis() {
            const analytics = analyzeUserPatterns();
            const message = `Based on your data:\n\n‚Ä¢ Average study time: ${analytics.studyHours.toFixed(1)} hours/day\n‚Ä¢ Average sleep: ${analytics.sleepHours.toFixed(1)} hours/night\n‚Ä¢ Most productive time: 9-11 AM\n‚Ä¢ Recommended break frequency: Every 45-50 minutes`;
            alert(message);
        }

        function showSchedule() {
            const suggestions = [
                "üåÖ Morning (6-9 AM): Best for math and analytical subjects",
                "‚òÄÔ∏è Late Morning (9-12 PM): Optimal for complex reading and writing",
                "üå§Ô∏è Afternoon (12-5 PM): Great for group work and discussions",
                "üåÜ Evening (5-8 PM): Perfect for review and light tasks",
                "üåô Night (8-10 PM): Ideal for reading and memorization"
            ];
            
            alert("AI-Recommended Study Schedule:\n\n" + suggestions.join("\n"));
        }

        function showGoalOptimization() {
            alert("Goal Optimization:\n\n‚Ä¢ Study Goal: Currently 6h/day - Consider reducing to 5h for better quality\n‚Ä¢ Sleep Goal: 8h/night - On track! ‚úÖ\n‚Ä¢ Exercise Goal: 30min/day - Increase to 45min for better focus");
        }

        function showWellnessCheck() {
            const analytics = analyzeUserPatterns();
            let status = "Excellent";
            let color = "green";
            
            if (analytics.sleepHours < 7) {
                status = "Needs Attention";
                color = "red";
            } else if (analytics.sleepHours < 8) {
                status = "Good";
                color = "orange";
            }
            
            alert(`Wellness Status: ${status}\n\n‚Ä¢ Sleep Quality: ${analytics.sleepHours.toFixed(1)}h (${status})\n‚Ä¢ Stress Level: Low\n‚Ä¢ Energy Level: High\n‚Ä¢ Recommendations: Maintain current routine`);
        }

        function refreshRecommendations() {
            const analytics = analyzeUserPatterns();
            const recommendations = generateRecommendations(analytics);
            
            const recommendationsList = document.getElementById('recommendations-list');
            recommendationsList.innerHTML = recommendations.map(rec => `
                <div class="recommendation-item ${rec.priority}">
                    <div class="recommendation-header">
                        <span class="recommendation-title">${rec.title}</span>
                        <span class="recommendation-priority priority-${rec.priority}">${rec.priority.charAt(0).toUpperCase() + rec.priority.slice(1)}</span>
                    </div>
                    <div class="recommendation-description">${rec.description}</div>
                </div>
            `).join('');
            
            showNotification('Recommendations refreshed!', 'success');
        }

        function generateRecommendations(analytics) {
            const recommendations = [];
            
            // Study recommendations
            if (analytics.studyHours < 4) {
                recommendations.push({
                    priority: 'high',
                    title: 'üìö Increase Study Time',
                    description: 'Your daily study time is below recommended levels. Try to gradually increase to 5-6 hours for better academic performance.'
                });
            }
            
            // Sleep recommendations
            if (analytics.sleepHours < 7) {
                recommendations.push({
                    priority: 'urgent',
                    title: 'üò¥ Prioritize Sleep',
                    description: 'You\'re not getting enough sleep. Aim for 7-8 hours to improve memory consolidation and cognitive function.'
                });
            } else if (analytics.sleepHours > 9) {
                recommendations.push({
                    priority: 'normal',
                    title: '‚è∞ Optimize Sleep Schedule',
                    description: 'Consider adjusting your sleep schedule. Too much sleep can reduce alertness during important study hours.'
                });
            }
            
            // Always include a positive recommendation
            recommendations.push({
                priority: 'normal',
                title: 'üéØ Great Progress!',
                description: 'Keep up the excellent work! Your consistency is improving and you\'re on track to meet your goals.'
            });
            
            return recommendations.slice(0, 3);
        }

        function startBreak() {
            showNotification('Break timer started! 15 minutes ‚è∞', 'success');
            // In a real app, this would start a break timer
        }

        function applySuggestion() {
            showNotification('Study schedule updated! üìÖ', 'success');
        }

        function setSleepGoal() {
            const newGoal = prompt('Set your sleep goal (hours):', '8');
            if (newGoal) {
                localStorage.setItem('sleep-goal', newGoal);
                showNotification('Sleep goal updated! üò¥', 'success');
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addChatMessage(message, 'user');
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addChatMessage(response, 'ai');
            }, 1000);
        }

        function addChatMessage(message, sender) {
            const messagesDiv = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `
                <div class="message-avatar ${sender}">${sender === 'ai' ? 'AI' : 'You'}</div>
                <div class="message-bubble">${message}</div>
            `;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function generateAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            
            if (lowerMessage.includes('study') || lowerMessage.includes('learn')) {
                return "Based on your patterns, you're most productive in the morning. I recommend studying your most difficult subjects between 9-11 AM when your focus is highest.";
            } else if (lowerMessage.includes('sleep') || lowerMessage.includes('tired')) {
                return "I notice your sleep patterns. For optimal cognitive function, aim for 7-8 hours of consistent sleep. Try setting a regular bedtime to improve sleep quality.";
            } else if (lowerMessage.includes('break') || lowerMessage.includes('rest')) {
                return "Great question! I recommend taking a 15-minute break every 45-50 minutes of study. Try the Pomodoro technique: 25 minutes focus, 5 minutes break.";
            } else if (lowerMessage.includes('goal') || lowerMessage.includes('progress')) {
                return "You're making excellent progress! Your consistency has improved by 15% this week. Keep tracking your activities to help me provide better insights.";
            } else if (lowerMessage.includes('stressed') || lowerMessage.includes('overwhelmed')) {
                return "I understand you might be feeling overwhelmed. Remember to take breaks, stay hydrated, and celebrate small wins. Would you like me to suggest some stress-relief activities?";
            } else {
                return "I'm here to help optimize your learning! I can provide insights about your study patterns, suggest optimal schedules, or help with goal setting. What specific area would you like to focus on?";
            }
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            if (type === 'success') {
                notification.style.background = '#2ecc71';
            } else if (type === 'info') {
                notification.style.background = '#3498db';
            }
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
    </script>
</body>
<link rel="stylesheet" href="y2k-style.css">
</html>