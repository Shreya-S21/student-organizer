# ğŸ—„ï¸ Database Schema Documentation

## Firebase Firestore Database Structure

---

## 1. Overview

```
Firebase Project: student-organizer-53420
Database: Cloud Firestore
Authentication: Firebase Auth (Email/Password)
```

---

## 2. Collections Structure

```
Firestore Database
â”‚
â”œâ”€â”€ ğŸ“ users                          # Main users collection
â”‚   â””â”€â”€ ğŸ“„ {userId}                   # User document
â”‚       â”œâ”€â”€ ğŸ“ tasks                  # User's tasks subcollection
â”‚       â”‚   â””â”€â”€ ğŸ“„ {taskId}
â”‚       â”œâ”€â”€ ğŸ“ routines               # Daily routines subcollection
â”‚       â”‚   â””â”€â”€ ğŸ“„ {routineId}
â”‚       â”œâ”€â”€ ğŸ“ analytics              # Analytics data subcollection
â”‚       â”‚   â””â”€â”€ ğŸ“„ {date}
â”‚       â””â”€â”€ ğŸ“ notifications          # User notifications
â”‚           â””â”€â”€ ğŸ“„ {notificationId}
â”‚
â”œâ”€â”€ ğŸ“ globalAnalytics                # App-wide statistics
â”‚   â””â”€â”€ ğŸ“„ summary
â”‚
â””â”€â”€ ğŸ“ appConfig                      # App configuration
    â””â”€â”€ ğŸ“„ settings
```

---

## 3. Users Collection Schema

### 3.1 User Document (`/users/{userId}`)

```javascript
{
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // IDENTIFICATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "uid": "firebase_user_id",
    "email": "student@example.com",
    "emailVerified": false,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PERSONAL INFORMATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "name": "John Doe",
    "phone": "+91 9876543210",
    "profilePicture": "https://...",
    "dateOfBirth": "2002-05-15",
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ACADEMIC INFORMATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "college": "Indian Institute of Technology",
    "course": "B.Tech Computer Science",
    "semester": 4,
    "enrollmentYear": 2022,
    "expectedGraduation": 2026,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // GOALS & TARGETS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "studyGoalHours": 5,
    "goals": [
        {
            "id": "goal_1",
            "title": "Complete DSA Course",
            "deadline": "2025-03-01",
            "progress": 45,
            "status": "in_progress"
        }
    ],
    "examDates": [
        {
            "id": "exam_1",
            "subject": "Data Structures",
            "date": "2025-02-15",
            "type": "mid_semester"
        }
    ],
    "studyTargets": [
        {
            "subject": "Mathematics",
            "hoursPerWeek": 10,
            "priority": "high"
        }
    ],
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // USER PREFERENCES
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "preferences": {
        "theme": "light",                    // light, dark, auto
        "language": "en",
        "notifications": {
            "push": true,
            "email": true,
            "sms": false,
            "taskReminders": true,
            "dailySummary": true,
            "weeklyReport": true
        },
        "dailyReportTime": "21:00",
        "timezone": "Asia/Kolkata"
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PRODUCTIVITY SETTINGS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "productivitySettings": {
        "preferredStudyTime": "evening",     // morning, afternoon, evening, night
        "focusDuration": 45,                 // minutes (Pomodoro)
        "breakDuration": 15,                 // minutes
        "longBreakDuration": 30,             // minutes
        "longBreakAfter": 4,                 // sessions
        "dailyGoalTasks": 5,
        "wakeUpTime": "07:00",
        "sleepTime": "23:00"
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // USER STATISTICS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "stats": {
        "totalTasksCreated": 150,
        "totalTasksCompleted": 120,
        "taskCompletionRate": 80,
        "totalStudyHours": 450,
        "totalFocusSessions": 320,
        "currentStreak": 15,
        "longestStreak": 30,
        "totalPoints": 2500,
        "level": 12,
        "badges": ["early_bird", "task_master", "week_warrior"]
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // AI ANALYSIS DATA
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "aiInsights": {
        "peakProductivityHours": [9, 10, 19, 20],
        "lowProductivityHours": [14, 15],
        "averageProductivityScore": 72,
        "bestDay": "Tuesday",
        "worstDay": "Sunday",
        "sleepProductivityCorrelation": 0.75,
        "lastAnalyzed": "timestamp"
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TIMESTAMPS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "createdAt": "serverTimestamp",
    "updatedAt": "serverTimestamp",
    "lastLogin": "serverTimestamp",
    "lastActive": "serverTimestamp",
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ACCOUNT STATUS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "isActive": true,
    "isPremium": false,
    "accountType": "free"                    // free, premium, student
}
```

---

## 4. Tasks Subcollection Schema

### 4.1 Task Document (`/users/{userId}/tasks/{taskId}`)

```javascript
{
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TASK IDENTIFICATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "id": "task_uuid_123",
    "userId": "user_id",
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TASK DETAILS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "name": "Complete Chapter 5 Problems",
    "description": "Solve all practice problems from the textbook",
    "category": "study",                     // study, health, personal, exercise, work
    "subject": "Mathematics",
    "tags": ["homework", "math", "urgent"],
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TIME MANAGEMENT
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "duration": 120,                         // estimated duration in minutes
    "deadline": "2025-01-20T23:59:00",       // MANDATORY
    "scheduledTime": "2025-01-19T19:00:00",  // AI suggested time
    "actualStartTime": null,
    "actualEndTime": null,
    "actualDuration": null,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PRIORITY & STATUS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "priority": "high",                      // high, medium, low
    "status": "pending",                     // pending, in_progress, completed, overdue, cancelled
    "completionPercentage": 0,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // RECURRING TASK SETTINGS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "isRecurring": false,
    "recurringPattern": {
        "frequency": "weekly",               // daily, weekly, monthly
        "days": [1, 3, 5],                   // Mon, Wed, Fri
        "endDate": "2025-06-30",
        "occurrences": null
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // AI SCHEDULING DATA
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "scheduledBy": "ai",                     // ai, user, auto
    "schedulingReason": "Scheduled during your peak productivity hours (7-9 PM)",
    "suggestedSlots": [
        { "time": "19:00", "score": 85 },
        { "time": "09:00", "score": 78 }
    ],
    "rescheduledCount": 0,
    "lastRescheduledAt": null,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FOCUS & DIFFICULTY
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "estimatedFocus": "high",                // high, medium, low
    "difficulty": "medium",                  // easy, medium, hard
    "focusScore": null,                      // filled after completion
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SUBTASKS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "subtasks": [
        {
            "id": "subtask_1",
            "name": "Read theory",
            "completed": true,
            "completedAt": "timestamp"
        },
        {
            "id": "subtask_2",
            "name": "Solve problems 1-10",
            "completed": false,
            "completedAt": null
        }
    ],
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TIMESTAMPS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "createdAt": "serverTimestamp",
    "updatedAt": "serverTimestamp",
    "completedAt": null
}
```

---

## 5. Routines Subcollection Schema

### 5.1 Routine Document (`/users/{userId}/routines/{date}`)

```javascript
{
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // IDENTIFICATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "id": "routine_2025-01-19",
    "userId": "user_id",
    "date": "2025-01-19",
    "dayOfWeek": "Sunday",
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SLEEP DATA
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "sleep": {
        "wakeUpTime": "07:30",
        "sleepTime": "23:15",                // previous night
        "totalHours": 8.25,
        "quality": "good",                   // poor, fair, good, excellent
        "notes": ""
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // STUDY SESSIONS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "studySessions": [
        {
            "id": "session_1",
            "subject": "Data Structures",
            "startTime": "09:00",
            "endTime": "11:00",
            "duration": 120,
            "focusLevel": 8,                 // 1-10 scale
            "completed": true,
            "notes": "Completed binary trees chapter"
        },
        {
            "id": "session_2",
            "subject": "Mathematics",
            "startTime": "19:00",
            "endTime": "21:30",
            "duration": 150,
            "focusLevel": 9,
            "completed": true,
            "notes": ""
        }
    ],
    "totalStudyHours": 4.5,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // CLASS SCHEDULE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "classes": [
        {
            "id": "class_1",
            "subject": "Database Management",
            "startTime": "10:00",
            "endTime": "11:00",
            "type": "lecture",               // lecture, lab, tutorial
            "attended": true
        }
    ],
    "totalClassHours": 1,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // BREAKS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "breaks": [
        {
            "startTime": "11:00",
            "duration": 15,
            "activity": "walk"               // walk, rest, snack, social
        }
    ],
    "totalBreakTime": 45,
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // EXERCISE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "exercise": {
        "done": true,
        "type": "gym",                       // gym, yoga, running, sports
        "duration": 45,
        "startTime": "07:00",
        "calories": 350
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SCREEN TIME
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "screenTime": {
        "productive": 180,                   // minutes
        "entertainment": 90,
        "social": 60,
        "total": 330
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MEALS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "meals": {
        "breakfast": { "time": "08:00", "skipped": false },
        "lunch": { "time": "13:00", "skipped": false },
        "dinner": { "time": "20:00", "skipped": false }
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PRODUCTIVITY METRICS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "metrics": {
        "productivityScore": 78,
        "tasksCompleted": 5,
        "tasksPending": 2,
        "focusScore": 82,
        "goalAchievement": 90,               // percentage of daily goal
        "mood": "good"                       // great, good, neutral, bad
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TIMESTAMPS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "createdAt": "serverTimestamp",
    "updatedAt": "serverTimestamp",
    "isComplete": true
}
```

---

## 6. Analytics Subcollection Schema

### 6.1 Analytics Document (`/users/{userId}/analytics/{period}`)

```javascript
{
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // IDENTIFICATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "id": "analytics_2025-W03",              // Week 3 of 2025
    "userId": "user_id",
    "period": "weekly",                      // daily, weekly, monthly
    "startDate": "2025-01-13",
    "endDate": "2025-01-19",
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PRODUCTIVITY DATA
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "productivity": {
        "averageScore": 75,
        "highestScore": 92,
        "lowestScore": 58,
        "trend": "improving",                // improving, stable, declining
        "dailyScores": [72, 75, 78, 58, 82, 88, 92]
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TASK ANALYTICS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "tasks": {
        "totalCreated": 25,
        "totalCompleted": 20,
        "totalOverdue": 2,
        "completionRate": 80,
        "averageCompletionTime": 95,         // minutes
        "byCategory": {
            "study": { "created": 15, "completed": 12 },
            "health": { "created": 5, "completed": 5 },
            "personal": { "created": 5, "completed": 3 }
        },
        "byPriority": {
            "high": { "created": 8, "completed": 7 },
            "medium": { "created": 10, "completed": 8 },
            "low": { "created": 7, "completed": 5 }
        }
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // STUDY ANALYTICS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "study": {
        "totalHours": 28.5,
        "dailyAverage": 4.07,
        "goalHours": 35,
        "goalAchievement": 81,
        "bySubject": {
            "Mathematics": 10,
            "Data Structures": 8,
            "Database": 6,
            "Other": 4.5
        },
        "peakHours": [9, 10, 19, 20],
        "focusAverage": 7.5
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SLEEP ANALYTICS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "sleep": {
        "averageHours": 7.2,
        "consistency": 85,                   // percentage
        "qualityAverage": "good",
        "productivityCorrelation": 0.72,
        "dailyHours": [7.5, 7, 6.5, 8, 7, 7.5, 7]
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TIMESTAMPS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "generatedAt": "serverTimestamp",
    "updatedAt": "serverTimestamp"
}
```

---

## 7. Firebase Security Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Users can only access their own data
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // Subcollections
      match /tasks/{taskId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      match /routines/{routineId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      match /analytics/{analyticsId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      match /notifications/{notificationId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
    
    // Global analytics (read-only for users)
    match /globalAnalytics/{docId} {
      allow read: if request.auth != null;
      allow write: if false; // Only admin/cloud functions
    }
    
    // App config (read-only)
    match /appConfig/{docId} {
      allow read: if true;
      allow write: if false;
    }
  }
}
```

---

## 8. Indexes Required

```javascript
// Composite indexes for efficient queries

// Tasks by status and deadline
Collection: users/{userId}/tasks
Fields: status ASC, deadline ASC

// Tasks by priority and deadline  
Collection: users/{userId}/tasks
Fields: priority DESC, deadline ASC

// Routines by date
Collection: users/{userId}/routines
Fields: date DESC

// Analytics by period
Collection: users/{userId}/analytics
Fields: period ASC, startDate DESC
```

---

## 9. Data Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA RELATIONSHIPS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (*) Tasks
  â”‚                                    â”‚
  â”‚                                    â”‚ references
  â”‚                                    â–¼
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (*) Routines
  â”‚                                    â”‚
  â”‚                                    â”‚ aggregates to
  â”‚                                    â–¼
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (*) Analytics
                                       â”‚
                                       â”‚ generates
                                       â–¼
                                  AI Recommendations
```